
<!-- Parameters:
    - name : Required : String
        The name of this town.
        Should match what is used in TownList.

    - type : Required : String
        Controls the shape of the town.
        Should be one of:
        O - regular circle shaped town
        H - long horizontal town
        V - long vertical town

    - x : Required : Number
        x axis position of this route element.

    - y : Required : Number
        y axis position of this route element.

    - home : Optional : Boolean
        Used to indicate that this is the home town for a region.
        Will add the flashy thing when the player is able to trabel to the next region. -->

<template>
  <rect
    class="city"
    :class="rectClass()"
    :data-town=" locals.name "
    :x=" locals.x * 16 "
    :y=" locals.y * 16 "
    :height=" (locals.height || 4) * 16 "
    :width=" (locals.width || 4) * 16 "
    @click="ok"
  />
</template>

<!--click:function(){},
attr: { class: MapHelper.calculateTownCssClass(' locals.name.replace(/'/g, '\\\'') ') },
if (locals.home) {
    css: { flash: MapHelper.ableToTravel() }
}-->
<script setup lang="ts">
import MapHelper from '~/scripts/worldmap/MapHelper'

const props = defineProps<{
  locals: {
    name: string
  }
}>()

const rectClass = () =>{
  return MapHelper.calculateTownCssClass(props.locals.name.replace(/'/g, '\\\''))
}

onMounted(() => {
})
const ok = () => {
  return MapHelper.moveToTown(props.locals.name.replace(/'/g, '\\\''))
}
</script>
